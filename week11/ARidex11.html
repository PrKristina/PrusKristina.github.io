<!DOCTYPE html>
<html>
	<head>
		<title>AR.js A-Frame Location-based</title>
		<script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
		<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex-location-only.js'></script>
		<script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
	</head>
	<body>
		<a-scene vr-mode-ui="enabled: false" arjs="sourceType: webcam; videoTexture: true" renderer="antialias: true; alpha: true">
			<a-camera gps-camera="enableHighAccuracy: true;"></a-camera>
			
			<a-marker gps-entity-place-gltf src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF/Duck.gltf"></a-marker>
			<a-marker gps-entity-place-gltf src="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/CesiumMan/glTF/CesiumMan.gltf"></a-marker>
			
			<a-entity>
				<a-plane height="10" width="10" rotation="-90 0 0" material='color: grey;'></a-plane>
			</a-entity>
		</a-scene>
		
		<script>
			navigator.geolocation.watchPosition(function(position) {
				var latitude = position.coords.latitude;
				var longitude = position.coords.longitude;

				var camera = document.querySelector("a-camera");
				camera.setAttribute("gps-camera", "latitude: " + latitude + "; longitude: " + longitude);

				var markers = document.querySelectorAll("a-marker");
				markers.forEach(function(marker) {
					marker.setAttribute("gps-entity-place-gltf", "latitude: " + latitude + "; longitude: " + longitude);
				});
			});
		</script>
	</body>
</html>



